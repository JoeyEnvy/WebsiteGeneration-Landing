/* =====================================================
   Joe Mort — Visual CV (Interactive Web + PDF Ready)
   Responsive • Scroll Animations • Modern Aesthetic
===================================================== */

:root{
  --bg:#f6f8fb;
  --panel:#ffffff;
  --soft:#f0f5fa;
  --border:#e3e7ee;
  --text:#1c1c1c;
  --muted:#616b79;
  --blue:#0a66ff;
  --accent:#00b4d8;
  --radius:16px;
  --shadow:0 10px 28px rgba(0,0,0,.08);
  --s1:8px; --s2:14px; --s3:20px; --s4:28px; --s5:40px;
}

/* ---------------- Base layout ---------------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:linear-gradient(135deg,#f7f9ff,#e8f0ff 40%,#f6f8fb 100%);
  background-size:300% 300%;
  animation:hueShift 18s ease-in-out infinite;
  line-height:1.6;
  scroll-behavior:smooth;
  overflow-x:hidden;
  padding:var(--s4) var(--s3);
}
@keyframes hueShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
h1,h2,h3{letter-spacing:.1px}
a{color:var(--blue);text-decoration:none;transition:color .2s ease,filter .2s ease}
a:hover{color:var(--accent);filter:drop-shadow(0 0 4px rgba(0,180,216,.4))}

/* ---------------- Animation setup ---------------- */
.reveal{opacity:0;transform:translateY(30px);transition:opacity .6s ease,transform .6s ease}
.reveal.visible{opacity:1;transform:none}
.fade-in{animation:fadeIn .8s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:none}}

/* ---------------- Intro section ---------------- */
.intro{
  display:grid;grid-template-columns:160px 1fr;gap:var(--s3);
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:var(--s4);
  box-shadow:var(--shadow);
  margin-bottom:var(--s5);
  position:relative;
}
.intro::before{
  content:"";position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(10,102,255,.05),rgba(0,180,216,.05));
  pointer-events:none;
}
.intro-img{width:160px;height:160px;border-radius:16px;object-fit:cover;box-shadow:0 6px 16px rgba(0,0,0,.12)}
.intro-info h1{font-size:2.2rem;color:var(--blue);margin-bottom:6px}
.role{font-weight:700;color:var(--muted);margin-bottom:8px}
.contact{color:var(--muted);font-size:.95rem}
.summary{margin-top:12px;max-width:820px}
.intro-metrics{display:flex;gap:var(--s3);margin-top:14px;flex-wrap:wrap}
.intro-metrics li{
  background:var(--soft);border:1px solid var(--border);border-radius:12px;
  padding:10px 14px;font-weight:700;display:flex;flex-direction:column;align-items:center;
  min-width:130px;transition:transform .25s ease,box-shadow .25s ease;
}
.intro-metrics li:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(10,102,255,.15)}
.intro-metrics strong{color:var(--blue);font-size:1.3rem}
.intro-metrics span{color:var(--muted);font-weight:600;font-size:.9rem}

/* ---------------- Grid ---------------- */
.grid{display:grid;grid-template-columns:360px 1fr;gap:var(--s3);align-items:start}

/* ---------------- Cards ---------------- */
.card{
  background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:var(--s4);
  position:relative;overflow:hidden;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{transform:translateY(-3px);box-shadow:0 10px 32px rgba(10,102,255,.08)}
.card::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(10,102,255,.03),rgba(0,180,216,.02));opacity:0;border-radius:var(--radius);transition:opacity .4s ease;pointer-events:none}
.card:hover::after{opacity:1}
.card h2{font-size:1.1rem;color:var(--blue);margin-bottom:var(--s3);display:flex;align-items:center;gap:10px}
.card h2 i{color:var(--blue);opacity:.9;transition:color .2s ease,filter .2s ease}
.card h2 i:hover{color:var(--accent);filter:drop-shadow(0 0 4px rgba(0,180,216,.4))}

/* ---------------- Links grid ---------------- */
.link-grid{display:grid;grid-template-columns:1fr;gap:10px}
.link-grid a{
  display:grid;grid-template-columns:auto auto 1fr auto;align-items:center;gap:12px;
  padding:12px 14px;background:var(--soft);border:1px solid var(--border);border-radius:12px;
  font-weight:700;font-size:.95rem;transition:transform .2s ease,box-shadow .2s ease,background .2s ease;
}
.link-grid a:hover{transform:translateY(-3px);background:#eaf2ff;box-shadow:0 8px 18px rgba(10,102,255,.12)}

/* ---------------- Projects ---------------- */
.project{display:grid;grid-template-columns:240px 1fr;gap:var(--s3);padding-bottom:var(--s3);margin-bottom:var(--s3);border-bottom:1px solid var(--border)}
.project:last-child{border:0;margin-bottom:0;padding-bottom:0}
.project img{width:240px;height:150px;border-radius:12px;object-fit:cover;border:1px solid var(--border);box-shadow:0 4px 12px rgba(0,0,0,.08);transition:transform .3s ease}
.project img:hover{transform:scale(1.04)}
.project h3{color:var(--blue);margin-bottom:6px;font-size:1.05rem}
.links-inline a{color:var(--accent);font-weight:700}

/* ---------------- Devious block ---------------- */
.devious-wrap{display:grid;grid-template-columns:300px 1fr;gap:var(--s3);align-items:center;background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);padding:var(--s3);box-shadow:var(--shadow)}
.devious-img{width:100%;height:180px;border-radius:12px;overflow:hidden;border:1px solid var(--border)}
.devious-img img{width:100%;height:100%;object-fit:cover}
.devious-content h3{color:var(--blue);font-size:1.05rem;margin-bottom:6px}

/* ---------------- Overview ---------------- */
.overview-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--s3)}
.overview-box{background:var(--soft);border:1px solid var(--border);border-radius:var(--radius);padding:var(--s3)}

/* ---------------- Timeline ---------------- */
.timeline{display:grid;grid-template-columns:110px 1fr;gap:var(--s2);padding:14px 0;border-bottom:1px dashed var(--border)}
.timeline:last-child{border-bottom:0}
.time span{display:inline-block;padding:6px 10px;border-radius:10px;background:var(--soft);border:1px solid var(--border);font-weight:700;color:#334155;font-size:.85rem}
.timeline h3{color:var(--blue);font-size:1rem;margin-bottom:6px}

/* ---------------- Chips ---------------- */
.chips{display:flex;flex-wrap:wrap;gap:10px}
.chips span{display:inline-flex;align-items:center;gap:8px;background:var(--soft);border:1px solid var(--border);padding:8px 12px;border-radius:12px;font-weight:700;font-size:.9rem}

/* ---------------- Responsive ---------------- */
@media(max-width:1040px){.grid{grid-template-columns:300px 1fr}.intro{grid-template-columns:120px 1fr}.devious-wrap{grid-template-columns:1fr}}
@media(max-width:860px){body{padding:var(--s3)}.grid{grid-template-columns:1fr}.intro{grid-template-columns:1fr;text-align:center}.intro-img{margin:0 auto;width:120px;height:120px}.project{grid-template-columns:1fr}.project img{width:100%;height:220px}.overview-grid{grid-template-columns:1fr}.devious-img{height:220px}}
@media(max-width:480px){html,body{font-size:14px}.card,.intro{padding:var(--s3)}.intro-metrics li{min-width:110px}}

/* =====================================================
   Compact Two-Page PDF Mode — Header + Full Content
===================================================== */
@page{size:A4;margin:6mm 8mm}

@media print{
  html,body{
    background:#fff!important;color:#000!important;
    -webkit-print-color-adjust:exact;print-color-adjust:exact;
    font-size:9.2px;line-height:1.3;margin:0;padding:0;overflow:visible!important;
  }
  *,*::before,*::after{box-shadow:none!important;transform:none!important;overflow:visible!important}

  /* Show top controls as a header bar */
  .top-controls{
    display:flex!important;justify-content:flex-end!important;gap:8px!important;
    margin-bottom:6px!important;padding:4px 8px!important;
    border-bottom:1px solid #ccc!important;
    background:#f7f7f7!important;
  }
  .top-controls a,.top-controls button{
    display:inline-flex!important;align-items:center!important;gap:4px!important;
    background:#0a66ff!important;color:#fff!important;
    border-radius:6px!important;padding:4px 8px!important;font-size:.72rem!important;font-weight:600!important;
    text-decoration:none!important;border:none!important;box-shadow:none!important;
  }

  /* One-column balanced layout */
  .grid,.col-left,.col-right{display:block!important;width:100%!important;max-width:100%!important}
  section,article,.card,.intro,.devious-wrap{
    page-break-inside:avoid!important;
    background:#fff!important;border:1px solid #ccc!important;
    padding:8px 10px!important;margin:0 0 6px 0!important;border-radius:6px!important;
  }

  h1{font-size:1.06rem;margin-bottom:3px}
  h2{font-size:.96rem;margin-bottom:4px}
  h3{font-size:.84rem;margin-bottom:2px}
  p,li,span,a,b{font-size:.76rem;color:#111!important}

  .intro{grid-template-columns:90px 1fr!important}
  .intro-img{width:80px!important;height:80px!important;margin-bottom:4px}
  .intro::before{display:none!important}
  .intro-metrics li{padding:3px 5px!important;min-width:80px;border:1px solid #bbb!important;background:#fafafa!important}

  .link-grid a{display:block!important;padding:4px 6px!important;font-size:.72rem!important;word-break:break-all!important}
  .project,.devious-wrap{display:grid!important;grid-template-columns:110px 1fr!important;gap:6px!important;align-items:start}
  .project img,.devious-img img{width:100px!important;height:65px!important;border:1px solid #bbb!important;border-radius:5px!important;filter:grayscale(100%)!important}
  .overview-grid{display:block!important}
  .overview-box{padding:6px!important;margin-bottom:5px!important}
  .timeline,.edu{border:none!important;padding:3px 0!important}
  .chips span{padding:3px 5px!important;font-size:.72rem!important;border:1px solid #ccc!important}
  .bullets li{padding:2px 0!important;font-size:.74rem!important}
  .top-controls button{display:none!important} /* Hide Download button in print */

  .pagebreak{page-break-after:always!important}
  footer{border-top:1px solid #ccc!important;text-align:center!important;margin-top:6px!important;padding-top:4px!important;font-size:.72rem!important}
}

/* ===== Scroll Progress Bar ===== */
#scrollbar{
  position:fixed;top:0;left:0;width:0%;height:4px;
  background:linear-gradient(90deg,#0a66ff,#00b4d8,#00ffd0);
  box-shadow:0 0 10px rgba(10,102,255,.6);
  z-index:9999;transition:width .15s ease-out;
}
