/* =====================================================
   Joe Mort — Visual CV (Final Polished Edition)
   Improved Desktop Spacing + Projects & Links Layout
   + Centered Mobile Header Controls
===================================================== */

:root{
  --bg:#f6f8fb;
  --panel:#ffffff;
  --soft:#f0f5fa;
  --border:#e3e7ee;
  --text:#1c1c1c;
  --muted:#616b79;
  --blue:#0a66ff;
  --accent:#00b4d8;
  --radius:16px;
  --shadow:0 10px 28px rgba(0,0,0,.08);
  --s1:8px; --s2:14px; --s3:20px; --s4:28px; --s5:40px;
}

/* ---------------- Base Layout ---------------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:linear-gradient(135deg,#f7f9ff,#e8f0ff 40%,#f6f8fb 100%);
  background-size:300% 300%;
  animation:hueShift 18s ease-in-out infinite;
  line-height:1.6;
  scroll-behavior:smooth;
  overflow-x:hidden;
  padding:var(--s4) var(--s3);
}
@keyframes hueShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
h1,h2,h3{letter-spacing:.1px}
a{color:var(--blue);text-decoration:none;transition:color .2s ease,filter .2s ease}
a:hover{color:var(--accent);filter:drop-shadow(0 0 4px rgba(0,180,216,.4))}
img{max-width:100%;height:auto;display:block}

/* ---------------- Header Controls ---------------- */
.pdf-header{
  position:fixed;top:12px;right:16px;
  display:flex;justify-content:flex-end;align-items:center;
  gap:12px;z-index:10000;
}
.pdf-header a{
  background:var(--blue);color:#fff;border-radius:8px;padding:8px 14px;
  font-size:.85rem;font-weight:600;text-decoration:none;
  display:inline-flex;align-items:center;gap:6px;white-space:nowrap;
  box-shadow:0 4px 10px rgba(0,0,0,.15);
  transition:background .2s ease,transform .2s ease;
}
.pdf-header a:hover{background:var(--accent);transform:translateY(-2px)}

/* ---------------- Intro ---------------- */
.intro{
  display:grid;grid-template-columns:160px 1fr;gap:var(--s3);
  background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
  padding:var(--s4);box-shadow:var(--shadow);margin-bottom:var(--s5);
}
.intro-img{width:160px;height:160px;border-radius:16px;object-fit:cover;box-shadow:0 6px 16px rgba(0,0,0,.12)}
.intro-info h1{font-size:2.2rem;color:var(--blue);margin-bottom:6px}
.role{font-weight:700;color:var(--muted);margin-bottom:8px}
.contact{color:var(--muted);font-size:.95rem}
.summary{margin-top:12px;max-width:820px}
.intro-metrics{display:flex;gap:var(--s3);margin-top:14px;flex-wrap:wrap}
.intro-metrics li{
  background:var(--soft);border:1px solid var(--border);border-radius:12px;
  padding:10px 14px;font-weight:700;display:flex;flex-direction:column;align-items:center;
  min-width:130px;transition:transform .25s ease,box-shadow .25s ease;
}
.intro-metrics li:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(10,102,255,.15)}
.intro-metrics strong{color:var(--blue);font-size:1.3rem}
.intro-metrics span{color:var(--muted);font-weight:600;font-size:.9rem}

/* ---------------- Grid ---------------- */
.grid{display:grid;grid-template-columns:360px 1fr;gap:var(--s3);align-items:start}

/* ---------------- Cards ---------------- */
.card{
  background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:var(--s4);
  position:relative;overflow:hidden;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{transform:translateY(-3px);box-shadow:0 10px 32px rgba(10,102,255,.08)}
.card h2{font-size:1.1rem;color:var(--blue);margin-bottom:var(--s3);display:flex;align-items:center;gap:10px}

/* ---------------- Links Grid (Better Desktop + Mobile Layout) ---------------- */
.link-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:14px;
}
.link-grid a{
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 16px;
  background:var(--soft);
  border:1px solid var(--border);
  border-radius:12px;
  font-weight:600;font-size:.95rem;
  transition:transform .2s ease,box-shadow .2s ease,background .2s ease;
}
.link-grid a span{flex:1;margin:0 8px;color:var(--text)}
.link-grid a b{font-weight:700;color:var(--muted);font-size:.9rem}
.link-grid a i:first-child{color:var(--blue)}
.link-grid a:hover{transform:translateY(-3px);background:#eaf2ff;box-shadow:0 8px 18px rgba(10,102,255,.12)}

@media(min-width:1100px){
  .link-grid{
    grid-template-columns:repeat(2,1fr);
    gap:16px 18px;
  }
}

/* ---------------- Projects ---------------- */
.project{
  display:grid;grid-template-columns:260px 1fr;gap:24px;
  padding-bottom:24px;margin-bottom:28px;border-bottom:1px solid var(--border);
}
.project:last-child{border:0;margin-bottom:0;padding-bottom:0}
.project img{
  width:100%;max-width:260px;height:160px;border-radius:12px;object-fit:cover;
  border:1px solid var(--border);box-shadow:0 4px 12px rgba(0,0,0,.08);
  transition:transform .3s ease;
}
.project img:hover{transform:scale(1.04)}
.project h3{color:var(--blue);margin-bottom:6px;font-size:1.05rem}
.project p{margin-bottom:10px}

/* -------- Devious AI normalized to project layout -------- */
.project.devious .devious-wrap{display:contents}
.project.devious .devious-img{
  width:100%;max-width:260px;height:160px;border-radius:12px;overflow:hidden;
  border:1px solid var(--border);box-shadow:0 4px 12px rgba(0,0,0,.08);
}
.project.devious .devious-img img{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}
.project.devious .devious-img img:hover{transform:scale(1.04)}
.project.devious .devious-content h3{color:var(--blue);font-size:1.05rem;margin-bottom:6px}
.project.devious .devious-content p{margin-bottom:10px}

/* ---------------- Overview ---------------- */
.overview-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--s3)}
.overview-box{background:var(--soft);border:1px solid var(--border);border-radius:var(--radius);padding:var(--s3)}

/* ---------------- Timeline ---------------- */
.timeline{display:grid;grid-template-columns:110px 1fr;gap:var(--s2);padding:14px 0;border-bottom:1px dashed var(--border)}
.timeline:last-child{border-bottom:0}

/* ---------------- Chips ---------------- */
.chips{display:flex;flex-wrap:wrap;gap:10px}
.chips span{
  display:inline-flex;align-items:center;gap:8px;
  background:var(--soft);border:1px solid var(--border);
  padding:8px 12px;border-radius:12px;font-weight:700;font-size:.9rem;
}

/* ---------------- Responsive Refinement ---------------- */
@media(max-width:1280px){
  body{padding:36px 28px}
  .grid{grid-template-columns:320px 1fr}
}
@media(max-width:1024px){
  body{padding:28px 26px}
  .grid{grid-template-columns:280px 1fr}
  .project{grid-template-columns:1fr;gap:18px}
  .project img{max-width:100%;height:200px}
}
/* --- Added margin safety & centered top header on mobile --- */
@media(max-width:768px){
  body{padding-left:26px;padding-right:26px}
  .grid{grid-template-columns:1fr}
  .intro{grid-template-columns:1fr;text-align:center}
  .intro-img{margin:0 auto;width:120px;height:120px}
  .overview-grid{grid-template-columns:1fr}
  .pdf-header{
    position:static;
    justify-content:center;
    flex-wrap:wrap;
    gap:10px;
    margin-bottom:12px;
    text-align:center;
  }
  .link-grid{grid-template-columns:1fr;gap:12px}
}
@media(max-width:480px){
  html,body{font-size:14px;padding-left:22px;padding-right:22px}
  .card,.intro{padding:var(--s3)}
  .intro-metrics li{min-width:100px}
  .project img{height:180px}
  .pdf-header a{padding:6px 10px;font-size:.8rem}
}
@media(max-width:360px){
  html,body{font-size:13px;padding-left:20px;padding-right:20px}
  .pdf-header a{padding:6px 8px;font-size:.75rem}
}

/* ===== Scroll Progress Bar ===== */
#scrollbar{
  position:fixed;top:0;left:0;width:0%;height:4px;
  background:linear-gradient(90deg,#0a66ff,#00b4d8,#00ffd0);
  box-shadow:0 0 10px rgba(10,102,255,.6);
  z-index:9999;transition:width .15s ease-out;
}

/* =====================================================
   Print Layout — Condensed Two-Page Output
===================================================== */
@page{size:A4;margin:6mm 7mm}

@media print{
  html,body{
    background:#fff!important;color:#000!important;
    -webkit-print-color-adjust:exact;print-color-adjust:exact;
    font-size:8.4px;line-height:1.22;margin:0;padding:0;
  }

  .pdf-header{
    position:static!important;display:flex!important;justify-content:flex-end!important;align-items:center!important;
    flex-wrap:nowrap!important;gap:6px!important;
    border-bottom:1px solid #ccc!important;padding:3px 6px!important;margin-bottom:4px!important;
  }
  .pdf-header a{
    display:inline-flex!important;align-items:center!important;gap:4px!important;
    background:#0a66ff!important;color:#fff!important;
    border-radius:6px!important;padding:3px 6px!important;
    font-size:.68rem!important;font-weight:600!important;text-decoration:none!important;
    white-space:nowrap!important;
  }

  .grid{display:grid!important;grid-template-columns:230px 1fr!important;gap:7px!important;align-items:start!important}
  .card,.intro,.overview-box,.timeline,.edu{
    page-break-inside:avoid!important;background:#fff!important;border:1px solid #ccc!important;
    padding:5px 6px!important;margin-bottom:4px!important;border-radius:5px!important;
  }

  .project{
    display:grid!important;
    grid-template-columns:80px 1fr!important;
    gap:4px!important;align-items:start!important;
    padding-bottom:4px!important;margin-bottom:4px!important;border-bottom:1px solid #ddd!important;
    page-break-inside:avoid!important;
  }
  .project img{width:80px!important;height:50px!important;border:1px solid #bbb!important;border-radius:4px!important;filter:grayscale(100%)!important}
  .project.devious .devious-wrap{display:contents!important}
  .project.devious .devious-img{width:80px!important;height:50px!important;border:1px solid #bbb!important;border-radius:4px!important;overflow:hidden!important}
  .project.devious .devious-img img{width:100%!important;height:100%!important;object-fit:cover!important;filter:grayscale(100%)!important}

  .overview-grid{display:block!important}
  .overview-box{padding:4px!important;margin-bottom:3px!important}
  .timeline,.edu{border:none!important;padding:2px 0!important;margin:0!important}
  .chips span{padding:2px 4px!important;font-size:.62rem!important;border:1px solid #ccc!important;margin:1px}
  .link-grid a{display:block!important;padding:3px 4px!important;font-size:.62rem!important;word-break:break-all!important}

  footer{
    border-top:1px solid #ccc!important;text-align:center!important;
    margin-top:3px!important;padding-top:3px!important;font-size:.65rem!important;
  }

  section,article{margin-bottom:3px!important}
  *{max-width:100%!important}
}
